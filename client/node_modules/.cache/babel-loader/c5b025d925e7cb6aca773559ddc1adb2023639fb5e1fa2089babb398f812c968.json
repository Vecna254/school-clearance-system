{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Projects\\\\school-clearance-system\\\\client\\\\src\\\\pages\\\\auth\\\\RegisterStudent.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport Field from \"../../components/FormField\";\nimport Button from \"../../components/Button\";\nimport Card from \"../../components/Card\";\nimport { registerStudent } from \"../../services/auth\";\nimport { saveToken, saveUser } from \"../../services/storage\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RegisterStudent() {\n  _s();\n  const [form, setForm] = useState({\n    full_name: \"\",\n    admission_number: \"\",\n    kcse_year: \"\",\n    class_form: \"\",\n    stream: \"\",\n    phone: \"\",\n    email: \"\",\n    password: \"\"\n  });\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n  const onChange = e => setForm({\n    ...form,\n    [e.target.name]: e.target.value\n  });\n  const onSubmit = async e => {\n    e.preventDefault();\n    try {\n      const {\n        token,\n        user\n      } = await registerStudent(form);\n      saveToken(token);\n      saveUser(user);\n      navigate(\"/student/start\");\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Registration failed\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Student Registration\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      children: [[\"full_name\", \"admission_number\", \"kcse_year\", \"class_form\", \"stream\", \"phone\", \"email\", \"password\"].map(k => /*#__PURE__*/_jsxDEV(Field, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: k.replace(\"_\", \" \").toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: k,\n          value: form[k],\n          onChange: onChange,\n          type: k === \"password\" ? \"password\" : \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this)]\n      }, k, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this)), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"crimson\"\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        children: \"Create Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(RegisterStudent, \"dTC3Hri2y/FxDYC143zsOtuw828=\", false, function () {\n  return [useNavigate];\n});\n_c = RegisterStudent;\nvar _c;\n$RefreshReg$(_c, \"RegisterStudent\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","Field","Button","Card","registerStudent","saveToken","saveUser","useNavigate","jsxDEV","_jsxDEV","RegisterStudent","form","setForm","full_name","admission_number","kcse_year","class_form","stream","phone","email","password","error","setError","navigate","onChange","e","target","name","value","onSubmit","preventDefault","token","user","err","_err$response","_err$response$data","response","data","message","children","fileName","lineNumber","columnNumber","map","k","replace","toUpperCase","type","style","color","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/Projects/school-clearance-system/client/src/pages/auth/RegisterStudent.js"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport Field from \"../../components/FormField\"\r\nimport Button from \"../../components/Button\"\r\nimport Card from \"../../components/Card\"\r\nimport { registerStudent } from \"../../services/auth\"\r\nimport { saveToken, saveUser } from \"../../services/storage\"\r\nimport { useNavigate } from \"react-router-dom\"\r\n\r\nexport default function RegisterStudent() {\r\n  const [form, setForm] = useState({\r\n    full_name: \"\",\r\n    admission_number: \"\",\r\n    kcse_year: \"\",\r\n    class_form: \"\",\r\n    stream: \"\",\r\n    phone: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  })\r\n  const [error, setError] = useState(\"\")\r\n  const navigate = useNavigate()\r\n\r\n  const onChange = (e) => setForm({ ...form, [e.target.name]: e.target.value })\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault()\r\n    try {\r\n      const { token, user } = await registerStudent(form)\r\n      saveToken(token)\r\n      saveUser(user)\r\n      navigate(\"/student/start\")\r\n    } catch (err) {\r\n      setError(err?.response?.data?.message || \"Registration failed\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <h2>Student Registration</h2>\r\n      <form onSubmit={onSubmit}>\r\n        {[\"full_name\", \"admission_number\", \"kcse_year\", \"class_form\", \"stream\", \"phone\", \"email\", \"password\"].map(\r\n          (k) => (\r\n            <Field key={k}>\r\n              <label>{k.replace(\"_\", \" \").toUpperCase()}</label>\r\n              <input name={k} value={form[k]} onChange={onChange} type={k === \"password\" ? \"password\" : \"text\"} />\r\n            </Field>\r\n          ),\r\n        )}\r\n        {error && <div style={{ color: \"crimson\" }}>{error}</div>}\r\n        <Button type=\"submit\">Create Account</Button>\r\n      </form>\r\n    </Card>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}