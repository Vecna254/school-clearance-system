{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Projects\\\\school-clearance-system\\\\client\\\\src\\\\pages\\\\admin\\\\ManageUsers.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport Card from \"../../components/Card\";\nimport Table from \"../../components/Table\";\nimport Field from \"../../components/FormField\";\nimport Button from \"../../components/Button\";\nimport api from \"../../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ManageUsers() {\n  _s();\n  const [rows, setRows] = useState([]);\n  const [form, setForm] = useState({\n    full_name: \"\",\n    email: \"\",\n    username: \"\",\n    role: \"hod\",\n    department: \"LIBRARY\",\n    password: \"\"\n  });\n  const onChange = e => setForm({\n    ...form,\n    [e.target.name]: e.target.value\n  });\n  useEffect(() => {\n    ;\n    (async () => {\n      const {\n        data\n      } = await api.get(\"/admin/users\");\n      setRows(data);\n    })();\n  }, []);\n  const add = async () => {\n    const {\n      data\n    } = await api.post(\"/admin/users\", form);\n    setRows([...rows, data]);\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Manage Users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"grid\",\n        gridTemplateColumns: \"repeat(3,1fr)\",\n        gap: 12\n      },\n      children: [[\"full_name\", \"email\", \"username\", \"password\"].map(k => /*#__PURE__*/_jsxDEV(Field, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: k\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: k,\n          value: form[k],\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this)]\n      }, k, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(Field, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Role\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"role\",\n          value: form.role,\n          onChange: onChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"hod\",\n            children: \"HOD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"admin\",\n            children: \"Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"student\",\n            children: \"Student\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Field, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Department (if HOD)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"department\",\n          value: form.department,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: add,\n      children: \"Create User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Role\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Department\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: rows.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: r.full_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: r.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: r.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: r.role\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: r.department || \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this)]\n        }, r.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(ManageUsers, \"jxryyDkhPwQOE7R6Lv1ksQduNwE=\");\n_c = ManageUsers;\nvar _c;\n$RefreshReg$(_c, \"ManageUsers\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useEffect","useState","Card","Table","Field","Button","api","jsxDEV","_jsxDEV","ManageUsers","rows","setRows","form","setForm","full_name","email","username","role","department","password","onChange","e","target","name","value","data","get","add","post","children","fileName","lineNumber","columnNumber","style","display","gridTemplateColumns","gap","map","k","onClick","r","id","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/Projects/school-clearance-system/client/src/pages/admin/ManageUsers.js"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport Card from \"../../components/Card\"\r\nimport Table from \"../../components/Table\"\r\nimport Field from \"../../components/FormField\"\r\nimport Button from \"../../components/Button\"\r\nimport api from \"../../services/api\"\r\n\r\nexport default function ManageUsers() {\r\n  const [rows, setRows] = useState([])\r\n  const [form, setForm] = useState({\r\n    full_name: \"\",\r\n    email: \"\",\r\n    username: \"\",\r\n    role: \"hod\",\r\n    department: \"LIBRARY\",\r\n    password: \"\",\r\n  })\r\n\r\n  const onChange = (e) => setForm({ ...form, [e.target.name]: e.target.value })\r\n\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      const { data } = await api.get(\"/admin/users\")\r\n      setRows(data)\r\n    })()\r\n  }, [])\r\n\r\n  const add = async () => {\r\n    const { data } = await api.post(\"/admin/users\", form)\r\n    setRows([...rows, data])\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <h2>Manage Users</h2>\r\n      <div style={{ display: \"grid\", gridTemplateColumns: \"repeat(3,1fr)\", gap: 12 }}>\r\n        {[\"full_name\", \"email\", \"username\", \"password\"].map((k) => (\r\n          <Field key={k}>\r\n            <label>{k}</label>\r\n            <input name={k} value={form[k]} onChange={onChange} />\r\n          </Field>\r\n        ))}\r\n        <Field>\r\n          <label>Role</label>\r\n          <select name=\"role\" value={form.role} onChange={onChange}>\r\n            <option value=\"hod\">HOD</option>\r\n            <option value=\"admin\">Admin</option>\r\n            <option value=\"student\">Student</option>\r\n          </select>\r\n        </Field>\r\n        <Field>\r\n          <label>Department (if HOD)</label>\r\n          <input name=\"department\" value={form.department} onChange={onChange} />\r\n        </Field>\r\n      </div>\r\n      <Button onClick={add}>Create User</Button>\r\n      <Table>\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Email</th>\r\n            <th>Username</th>\r\n            <th>Role</th>\r\n            <th>Department</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {rows.map((r) => (\r\n            <tr key={r.id}>\r\n              <td>{r.full_name}</td>\r\n              <td>{r.email}</td>\r\n              <td>{r.username}</td>\r\n              <td>{r.role}</td>\r\n              <td>{r.department || \"-\"}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </Table>\r\n    </Card>\r\n  )\r\n}\r\n"],"mappings":"AAAA,YAAY;;AAAA,IAAAA,YAAA;EAAAC,EAAA,GAAAC,YAAA;AAEZ,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,IAAI,MAAM,uBAAuB;AACxC,OAAOC,KAAK,MAAM,wBAAwB;AAC1C,OAAOC,KAAK,MAAM,4BAA4B;AAC9C,OAAOC,MAAM,MAAM,yBAAyB;AAC5C,OAAOC,GAAG,MAAM,oBAAoB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEpC,eAAe,SAASC,WAAWA,CAAA,EAAG;EAAAX,EAAA;EACpC,MAAM,CAACY,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACW,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC;IAC/Ba,SAAS,EAAE,EAAE;IACbC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE,EAAE;IACZC,IAAI,EAAE,KAAK;IACXC,UAAU,EAAE,SAAS;IACrBC,QAAQ,EAAE;EACZ,CAAC,CAAC;EAEF,MAAMC,QAAQ,GAAIC,CAAC,IAAKR,OAAO,CAAC;IAAE,GAAGD,IAAI;IAAE,CAACS,CAAC,CAACC,MAAM,CAACC,IAAI,GAAGF,CAAC,CAACC,MAAM,CAACE;EAAM,CAAC,CAAC;EAE7ExB,SAAS,CAAC,MAAM;IACd;IAAC,CAAC,YAAY;MACZ,MAAM;QAAEyB;MAAK,CAAC,GAAG,MAAMnB,GAAG,CAACoB,GAAG,CAAC,cAAc,CAAC;MAC9Cf,OAAO,CAACc,IAAI,CAAC;IACf,CAAC,EAAE,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,MAAME,GAAG,GAAG,MAAAA,CAAA,KAAY;IACtB,MAAM;MAAEF;IAAK,CAAC,GAAG,MAAMnB,GAAG,CAACsB,IAAI,CAAC,cAAc,EAAEhB,IAAI,CAAC;IACrDD,OAAO,CAAC,CAAC,GAAGD,IAAI,EAAEe,IAAI,CAAC,CAAC;EAC1B,CAAC;EAED,oBACEjB,OAAA,CAACN,IAAI;IAAA2B,QAAA,gBACHrB,OAAA;MAAAqB,QAAA,EAAI;IAAY;MAAAC,QAAA,EAAAjC,YAAA;MAAAkC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACrBxB,OAAA;MAAKyB,KAAK,EAAE;QAAEC,OAAO,EAAE,MAAM;QAAEC,mBAAmB,EAAE,eAAe;QAAEC,GAAG,EAAE;MAAG,CAAE;MAAAP,QAAA,GAC5E,CAAC,WAAW,EAAE,OAAO,EAAE,UAAU,EAAE,UAAU,CAAC,CAACQ,GAAG,CAAEC,CAAC,iBACpD9B,OAAA,CAACJ,KAAK;QAAAyB,QAAA,gBACJrB,OAAA;UAAAqB,QAAA,EAAQS;QAAC;UAAAR,QAAA,EAAAjC,YAAA;UAAAkC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAClBxB,OAAA;UAAOe,IAAI,EAAEe,CAAE;UAACd,KAAK,EAAEZ,IAAI,CAAC0B,CAAC,CAAE;UAAClB,QAAQ,EAAEA;QAAS;UAAAU,QAAA,EAAAjC,YAAA;UAAAkC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA,GAF5CM,CAAC;QAAAR,QAAA,EAAAjC,YAAA;QAAAkC,UAAA;QAAAC,YAAA;MAAA,OAGN,CACR,CAAC,eACFxB,OAAA,CAACJ,KAAK;QAAAyB,QAAA,gBACJrB,OAAA;UAAAqB,QAAA,EAAO;QAAI;UAAAC,QAAA,EAAAjC,YAAA;UAAAkC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACnBxB,OAAA;UAAQe,IAAI,EAAC,MAAM;UAACC,KAAK,EAAEZ,IAAI,CAACK,IAAK;UAACG,QAAQ,EAAEA,QAAS;UAAAS,QAAA,gBACvDrB,OAAA;YAAQgB,KAAK,EAAC,KAAK;YAAAK,QAAA,EAAC;UAAG;YAAAC,QAAA,EAAAjC,YAAA;YAAAkC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAChCxB,OAAA;YAAQgB,KAAK,EAAC,OAAO;YAAAK,QAAA,EAAC;UAAK;YAAAC,QAAA,EAAAjC,YAAA;YAAAkC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACpCxB,OAAA;YAAQgB,KAAK,EAAC,SAAS;YAAAK,QAAA,EAAC;UAAO;YAAAC,QAAA,EAAAjC,YAAA;YAAAkC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAF,QAAA,EAAAjC,YAAA;UAAAkC,UAAA;UAAAC,YAAA;QAAA,OAClC,CAAC;MAAA;QAAAF,QAAA,EAAAjC,YAAA;QAAAkC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,eACRxB,OAAA,CAACJ,KAAK;QAAAyB,QAAA,gBACJrB,OAAA;UAAAqB,QAAA,EAAO;QAAmB;UAAAC,QAAA,EAAAjC,YAAA;UAAAkC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAClCxB,OAAA;UAAOe,IAAI,EAAC,YAAY;UAACC,KAAK,EAAEZ,IAAI,CAACM,UAAW;UAACE,QAAQ,EAAEA;QAAS;UAAAU,QAAA,EAAAjC,YAAA;UAAAkC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAF,QAAA,EAAAjC,YAAA;QAAAkC,UAAA;QAAAC,YAAA;MAAA,OAClE,CAAC;IAAA;MAAAF,QAAA,EAAAjC,YAAA;MAAAkC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eACNxB,OAAA,CAACH,MAAM;MAACkC,OAAO,EAAEZ,GAAI;MAAAE,QAAA,EAAC;IAAW;MAAAC,QAAA,EAAAjC,YAAA;MAAAkC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAC1CxB,OAAA,CAACL,KAAK;MAAA0B,QAAA,gBACJrB,OAAA;QAAAqB,QAAA,eACErB,OAAA;UAAAqB,QAAA,gBACErB,OAAA;YAAAqB,QAAA,EAAI;UAAI;YAAAC,QAAA,EAAAjC,YAAA;YAAAkC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACbxB,OAAA;YAAAqB,QAAA,EAAI;UAAK;YAAAC,QAAA,EAAAjC,YAAA;YAAAkC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACdxB,OAAA;YAAAqB,QAAA,EAAI;UAAQ;YAAAC,QAAA,EAAAjC,YAAA;YAAAkC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjBxB,OAAA;YAAAqB,QAAA,EAAI;UAAI;YAAAC,QAAA,EAAAjC,YAAA;YAAAkC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACbxB,OAAA;YAAAqB,QAAA,EAAI;UAAU;YAAAC,QAAA,EAAAjC,YAAA;YAAAkC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAF,QAAA,EAAAjC,YAAA;UAAAkC,UAAA;UAAAC,YAAA;QAAA,OACjB;MAAC;QAAAF,QAAA,EAAAjC,YAAA;QAAAkC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eACRxB,OAAA;QAAAqB,QAAA,EACGnB,IAAI,CAAC2B,GAAG,CAAEG,CAAC,iBACVhC,OAAA;UAAAqB,QAAA,gBACErB,OAAA;YAAAqB,QAAA,EAAKW,CAAC,CAAC1B;UAAS;YAAAgB,QAAA,EAAAjC,YAAA;YAAAkC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACtBxB,OAAA;YAAAqB,QAAA,EAAKW,CAAC,CAACzB;UAAK;YAAAe,QAAA,EAAAjC,YAAA;YAAAkC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAClBxB,OAAA;YAAAqB,QAAA,EAAKW,CAAC,CAACxB;UAAQ;YAAAc,QAAA,EAAAjC,YAAA;YAAAkC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACrBxB,OAAA;YAAAqB,QAAA,EAAKW,CAAC,CAACvB;UAAI;YAAAa,QAAA,EAAAjC,YAAA;YAAAkC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACjBxB,OAAA;YAAAqB,QAAA,EAAKW,CAAC,CAACtB,UAAU,IAAI;UAAG;YAAAY,QAAA,EAAAjC,YAAA;YAAAkC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA,GALvBQ,CAAC,CAACC,EAAE;UAAAX,QAAA,EAAAjC,YAAA;UAAAkC,UAAA;UAAAC,YAAA;QAAA,OAMT,CACL;MAAC;QAAAF,QAAA,EAAAjC,YAAA;QAAAkC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC;IAAA;MAAAF,QAAA,EAAAjC,YAAA;MAAAkC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAF,QAAA,EAAAjC,YAAA;IAAAkC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEX;AAAClC,EAAA,CAzEuBW,WAAW;AAAAiC,EAAA,GAAXjC,WAAW;AAAA,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}